# 管理员登录说明

## 登录地址

访问：**`http://localhost:5173/login`**

## 管理员账户信息

- **邮箱**：`admin@example.com`
- **密码**：`Admin123456`
- **用户类型**：`super_admin`（超级管理员）

## 登录后的跳转

### 管理员账户
- 登录成功后，**自动跳转到管理后台**：`http://localhost:5173/admin/dashboard`
- 可以在左侧菜单看到"管理后台"选项

### 普通用户
- 登录成功后，跳转到控制台：`http://localhost:5173/dashboard`

## 管理后台功能

登录后，管理员可以访问以下功能：

1. **仪表盘** (`/admin/dashboard`)
   - 查看系统统计数据
   - 用户总数、活跃用户、待审核申请等

2. **用户管理** (`/admin/users`)
   - 查看所有用户列表
   - 编辑用户信息（用户类型、会员计划、使用限制等）
   - 启用/禁用用户账户

3. **注册审核** (`/admin/registration-requests`)
   - 查看待审核的注册申请
   - 批准或拒绝注册申请
   - 查看申请详情

4. **模板管理** (`/admin/templates`)
   - 查看所有模板（包括未发布的）
   - 发布/下架模板

## 如果无法登录

### 检查步骤

1. **检查后端服务是否运行**
   ```bash
   docker-compose ps
   ```
   确保 `resume_backend` 容器状态为 `Up`

2. **检查管理员账户状态**
   ```bash
   cd backend
   python verify_admin.py admin@example.com Admin123456
   ```
   应该显示"密码验证成功"

3. **检查浏览器控制台**
   - 打开开发者工具（F12）
   - 查看 Console 标签是否有错误
   - 查看 Network 标签，检查 `/api/v1/auth/login` 请求的响应

4. **清除浏览器缓存**
   - 清除 localStorage
   - 清除 cookies
   - 刷新页面

### 常见问题

**Q: 提示"邮箱或密码错误"**
- 确认使用的是 `admin@example.com` 和 `Admin123456`
- 检查密码是否正确（区分大小写）

**Q: 提示"您的注册申请正在审核中"**
- 这不应该出现在管理员账户上
- 如果出现，检查数据库中 `registration_status` 是否为 `approved`
- 可以运行：`python create_admin.py admin@example.com Admin123456` 重新创建

**Q: 登录后跳转到登录页**
- 检查 localStorage 中是否有 `access_token` 和 `user`
- 检查后端日志是否有错误

**Q: 403 Forbidden 错误**
- 检查用户类型是否为 `super_admin` 或 `template_designer`
- 检查 `is_active` 是否为 `True`

## 重新创建管理员账户

如果管理员账户有问题，可以重新创建：

```bash
cd backend
python create_admin.py admin@example.com Admin123456
```

或者更新现有账户：

```bash
cd backend
python create_admin.py admin@example.com Admin123456
# 如果账户已存在，会提示是否更新，输入 y
```

## 访问管理后台的其他方式

即使登录后跳转到了控制台，管理员也可以通过以下方式访问管理后台：

1. **左侧菜单**：点击"管理后台" → "仪表盘"
2. **直接访问**：`http://localhost:5173/admin/dashboard`

